\clearpage
<!--
to do onboarding sa4ss - move this to sa4ss.sty so everyone's figures hold their order
https://stackoverflow.com/questions/29696172/how-to-hold-figure-position-with-figure-caption-in-pdf-output-of-knitr
-->
\floatplacement{figure}{H}
# Figures

```{r, results = "asis"}
do.call(
  sa4ss::add_figure,
  utils::read.csv(file.path("..", "figures", "map_of_stock_boundaries_40-10.csv"))
)
```

```{r, catch-figures, results = "asis"}
# Arrange figures in order of the time they were modified
figdataframe <- dplyr::bind_rows(mapply(
  FUN = utils::read.csv,
  file = dir(file.path("..","figures"), pattern = "^catch-.+\\.csv",full.names=TRUE),
  SIMPLIFY = FALSE
))
figdataframe[, "time"] <- file.info(figdataframe[["filein"]])[["mtime"]]
ignore <- apply(
  figdataframe %>% dplyr::arrange(time) %>% dplyr::select(-time),
  1,
  function(x) do.call(sa4ss::add_figure, args = as.list(x))
)
```

```{r, results = "asis"}
sa4ss::add_figure(
  filein = file.path(params$model, "plots", "data_plot.png"),
  caption = "Summary of data sources used in the base model",
  alt_caption = "Dots for each year a source of data is available",
  label = "data-plot"
)
```


<!-- ====================================================================== -->
<!-- ******************     20Data figures     **************************** --> 
<!-- ====================================================================== -->

```{r, echo=FALSE, results='asis'}
nm = "WCGBTS_presence_absence_by_depth_bin.png"
add_figure(
filein = file.path("..", "figures", nm),
caption = paste0("Presence/absence of ", spp, " in the WCGBTS by 25 m depth increments"),
label = 'wcgbts-presAbs')
```

```{r, echo=FALSE, results='asis', opts.label = 'north'}
nm = "WCGBTS - North _Length_Frequency.png"
add_figure(
filein = file.path("..", "figures", nm),
caption = paste0("Length frequency for male and females in the WCGBTS"),
label = 'wcgbts-lenComp')
```

```{r, echo=FALSE, results='asis', opts.label = 'south'}
nm = "WCGBTS - South _Length_Frequency.png"
add_figure(
filein = file.path("..", "figures", nm),
caption = paste0("Length frequency for male and females in the WCGBTS"),
label = 'wcgbts-lenComp')
```

```{r, echo=FALSE, results='asis', opts.label = 'north'}
nm = "WCGBTS - North _Age_Frequency.png"
add_figure(
filein = file.path("..", "figures", nm),
caption = paste0("Length frequency for male and females in the WCGBTS"),
label = 'wcgbts-ageComp')
```

```{r, echo=FALSE, results='asis', opts.label = 'south'}
nm = "WCGBTS - South _Age_Frequency.png"
add_figure(
filein = file.path("..", "figures", nm),
caption = paste0("Length frequency for male and females in the WCGBTS"),
label = 'wcgbts-ageComp')
```